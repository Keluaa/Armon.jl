<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Blocking · Armon.jl</title><meta name="title" content="Blocking · Armon.jl"/><meta property="og:title" content="Blocking · Armon.jl"/><meta property="twitter:title" content="Blocking · Armon.jl"/><meta name="description" content="Documentation for Armon.jl."/><meta property="og:description" content="Documentation for Armon.jl."/><meta property="twitter:description" content="Documentation for Armon.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Armon.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">About</a></li><li><a class="tocitem" href="../solver/">Solver</a></li><li class="is-active"><a class="tocitem" href>Blocking</a><ul class="internal"><li><a class="tocitem" href="#Grid-and-blocks"><span>Grid and blocks</span></a></li><li><a class="tocitem" href="#Block-size-and-iteration"><span>Block size and iteration</span></a></li><li><a class="tocitem" href="#Block-Tree"><span>Block Tree</span></a></li><li><a class="tocitem" href="#Block-states"><span>Block states</span></a></li><li><a class="tocitem" href="#Time-step-reduction"><span>Time step reduction</span></a></li><li><a class="tocitem" href="#Block-exchanges"><span>Block exchanges</span></a></li></ul></li><li><a class="tocitem" href="../kernels/">Kernels</a></li><li><a class="tocitem" href="../utils/">Utils</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Blocking</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Blocking</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Keluaa/Armon.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Keluaa/Armon.jl/blob/main/docs/src/blocking.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Blocking"><a class="docs-heading-anchor" href="#Blocking">Blocking</a><a id="Blocking-1"></a><a class="docs-heading-anchor-permalink" href="#Blocking" title="Permalink"></a></h1><h2 id="Grid-and-blocks"><a class="docs-heading-anchor" href="#Grid-and-blocks">Grid and blocks</a><a id="Grid-and-blocks-1"></a><a class="docs-heading-anchor-permalink" href="#Grid-and-blocks" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.BlockGrid" href="#Armon.BlockGrid"><code>Armon.BlockGrid</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">BlockGrid{T, DeviceA, HostA, BufferA, Ghost, BlockSize, Device, SolverState}</code></pre><p>Stores <a href="#Armon.TaskBlock"><code>TaskBlock</code></a>s on the <code>Device</code> and host memory, in a grid.</p><p><a href="#Armon.LocalTaskBlock"><code>LocalTaskBlock</code></a> are stored separately depending on if they have a <a href="#Armon.StaticBSize"><code>StaticBSize</code></a> of <code>BlockSize</code> (in <code>blocks</code>) or if they have a <a href="#Armon.DynamicBSize"><code>DynamicBSize</code></a> (in <code>edge_blocks</code>).</p><p>Blocks have <code>Ghost</code> cells padding their real cells. This is included in their <a href="#Armon.block_size"><code>block_size</code></a>. A block cannot have a number of real cells along an axis smaller than the number of ghost cells, unless there is only a single block in the grid along that axis.</p><p>&quot;Edge blocks&quot; are blocks located on the right and/or top edge of the grid. They exist in order to handle domains with dimensions which are not multiples of the block size.</p><p><code>DeviceA</code> and <code>HostA</code> are <code>AbstractArray</code> types for the device and host respectively.</p><p><code>BufferA</code> is the type of storage used for MPI buffers. MPI buffers are homogenous: they are either all on the host or all on the device.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_grid.jl#L2-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.grid_dimensions" href="#Armon.grid_dimensions"><code>Armon.grid_dimensions</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">grid_dimensions(params::ArmonParameters)
grid_dimensions(block_size::NTuple{D, Int}, domain_size::NTuple{D, Int}, ghost::Int) where {D}</code></pre><p>Returns the dimensions of the grid in the form <code>(grid_size, static_sized_grid, remainder_block_size)</code> from the <code>block_size</code> (the size of blocks in the <code>static_sized_grid</code>), the <code>domain_size</code> (number of real cells) and the number of <code>ghost</code> cells, common to all blocks.</p><p><code>grid_size</code> is the <code>static_sized_grid</code> including the edge blocks. Edge blocks along the axis <code>d</code> have a size of <code>remainder_block_size[d]</code> along <code>d</code> only if they are at the edge of the grid along <code>d</code>, or <code>block_size</code> otherwise.</p><p><code>block_size</code> includes the <code>ghost</code> cells in its dimensions, which must all be greater than <code>2*ghost</code>.</p><p>If <code>prod(block_size) == 0</code>, then <code>block_size</code> is ignored and the grid is made of only a single block of size <code>domain_size</code>.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Blocks must not be smaller than <code>ghost</code>, therefore edge blocks might be made bigger than <code>block_size</code>.</p></div></div><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>In case <code>domain_size</code> is smaller than <code>block_size .- 2*ghost</code> along any axis, the grid will contain only edge blocks.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_grid.jl#L304-L330">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.TaskBlock" href="#Armon.TaskBlock"><code>Armon.TaskBlock</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TaskBlock{V}</code></pre><p>Abstract block used for cache blocking.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocks.jl#L2-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.LocalTaskBlock" href="#Armon.LocalTaskBlock"><code>Armon.LocalTaskBlock</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LocalTaskBlock{D, H, Size, SolverState} &lt;: TaskBlock{V}</code></pre><p>Container of <code>Size</code> and variables of type <code>D</code> on the device and <code>H</code> on the host. Part of a <a href="#Armon.BlockGrid"><code>BlockGrid</code></a>.</p><p>The block stores its own solver state, allowing it to run all solver steps independantly of all other blocks, apart from steps requiring synchronization.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocks.jl#L59-L67">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.BlockData" href="#Armon.BlockData"><code>Armon.BlockData</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">BlockData{V}</code></pre><p>Holds the variables of all cells of a <a href="#Armon.LocalTaskBlock"><code>LocalTaskBlock</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocks.jl#L13-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.RemoteTaskBlock" href="#Armon.RemoteTaskBlock"><code>Armon.RemoteTaskBlock</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RemoteTaskBlock{B} &lt;: TaskBlock{B}</code></pre><p>Block located at the border of a <a href="#Armon.BlockGrid"><code>BlockGrid</code></a>, containing MPI buffer of type <code>B</code> for communication with other <a href="#Armon.BlockGrid"><code>BlockGrid</code></a>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocks.jl#L158-L163">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.device_to_host!" href="#Armon.device_to_host!"><code>Armon.device_to_host!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">device_to_host!(blk::LocalTaskBlock)</code></pre><p>Copies the device data of <code>blk</code> to the host data. A no-op if the device is the host.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocks.jl#L116-L120">source</a></section><section><div><pre><code class="language-julia hljs">device_to_host!(grid::BlockGrid)</code></pre><p>Copies device data of all blocks to the host data. A no-op if the device is the host.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_grid.jl#L650-L654">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.host_to_device!" href="#Armon.host_to_device!"><code>Armon.host_to_device!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">device_to_host!(blk::LocalTaskBlock)</code></pre><p>Copies the host data of <code>blk</code> to its device data. A no-op if the device is the host.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocks.jl#L132-L136">source</a></section><section><div><pre><code class="language-julia hljs">device_to_host!(grid::BlockGrid)</code></pre><p>Copies host data of all blocks to the device data. A no-op if the device is the host.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_grid.jl#L664-L668">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.buffers_on_device" href="#Armon.buffers_on_device"><code>Armon.buffers_on_device</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">buffers_on_device(::BlockGrid)
buffers_on_device(::Type{&lt;:BlockGrid})</code></pre><p><code>true</code> if the communication buffers are stored on the device, allowing direct transfers without passing through the host (GPU-aware communication).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_grid.jl#L499-L505">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.device_is_host" href="#Armon.device_is_host"><code>Armon.device_is_host</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">device_is_host(::BlockGrid{T, D, H})
device_is_host(::Type{&lt;:BlockGrid{T, D, H}})</code></pre><p><code>true</code> if the device is the host, i.e. device blocks and host blocks are the same (and <code>D == H</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_grid.jl#L490-L495">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.all_blocks-Tuple{BlockGrid}" href="#Armon.all_blocks-Tuple{BlockGrid}"><code>Armon.all_blocks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">all_blocks(grid::BlockGrid)</code></pre><p>Simple iterator over all blocks of the grid, excluding <a href="#Armon.RemoteTaskBlock"><code>RemoteTaskBlock</code></a>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_grid.jl#L482-L486">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.block_idx" href="#Armon.block_idx"><code>Armon.block_idx</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">block_idx(grid::BlockGrid, idx::CartesianIndex)</code></pre><p>Linear index in <code>grid.blocks</code> of the block at <code>idx</code> in the statically-sized grid.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_grid.jl#L412-L416">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.edge_block_idx" href="#Armon.edge_block_idx"><code>Armon.edge_block_idx</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">edge_block_idx(grid::BlockGrid, idx::CartesianIndex)</code></pre><p>Linear index in <code>grid.edge_blocks</code> of the block at <code>idx</code>, along the (dynamically-sized) edges of the <code>grid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_grid.jl#L421-L426">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.remote_block_idx" href="#Armon.remote_block_idx"><code>Armon.remote_block_idx</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">remote_block_idx(grid::BlockGrid, idx::CartesianIndex)</code></pre><p>Linear index in <code>grid.remote_blocks</code> of the remote block at <code>idx</code> in the <code>grid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_grid.jl#L440-L444">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.EdgeBlockRegions" href="#Armon.EdgeBlockRegions"><code>Armon.EdgeBlockRegions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">EdgeBlockRegions(grid::BlockGrid; real_sizes=false)
EdgeBlockRegions(
    grid_size::NTuple{D, Int}, static_sized_grid::NTuple{D, Int},
    block_size::NTuple{D, Int}, remainder_block_size::NTuple{D, Int}; ghosts=0
)</code></pre><p>Iterator over edge blocks, their positions and their size in each edge region of the <code>grid</code>.</p><p><code>ghosts</code> only affects the size of edge blocks: <code>B .- 2*ghosts</code>. If <code>real_sizes == true</code>, then <code>ghosts</code> is <code>ghosts(grid)</code>, therefore the real block size of edge blocks is returned.</p><p>There is a maximum of <code>2^D-1</code> edge regions in a grid (<a href="https://en.wikipedia.org/wiki/Binomial_theorem#Geometric_explanation">see this explanation</a>). When <code>grid_size[i] != static_sized_grid[i]</code>, there cannot be an edge region, hence there are exactly <code>2^sum(grid_size .!= static_sized_grid)-1</code> regions.</p><pre><code class="language-julia-repl hljs">julia&gt; collect(Armon.EdgeBlockRegions((5, 5), (4, 4), (32, 32), (16, 16)))
3-element Vector{Tuple{Int64, CartesianIndices{2, Tuple{UnitRange{Int64}, UnitRange{Int64}}}, Tuple{Int64, Int64}}}:
 (4, CartesianIndices((5:5, 1:4)), (16, 32))
 (4, CartesianIndices((1:4, 5:5)), (32, 16))
 (1, CartesianIndices((5:5, 5:5)), (16, 16))

julia&gt; collect(Armon.EdgeBlockRegions((5, 5, 5), (4, 5, 4), (32, 32, 32), (16, 16, 16)))
3-element Vector{Tuple{Int64, CartesianIndices{3, Tuple{UnitRange{Int64}, UnitRange{Int64}, UnitRange{Int64}}}, Tuple{Int64, Int64, Int64}}}:
 (20, CartesianIndices((5:5, 1:5, 1:4)), (16, 32, 32))
 (20, CartesianIndices((1:4, 1:5, 5:5)), (32, 32, 16))
 (5, CartesianIndices((5:5, 1:5, 5:5)), (16, 32, 16))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_grid.jl#L168-L198">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.RemoteBlockRegions" href="#Armon.RemoteBlockRegions"><code>Armon.RemoteBlockRegions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RemoteBlockRegions(grid::BlockGrid)
RemoteBlockRegions(grid_size::NTuple{D, Int})</code></pre><p>Iterator of all remote block positions in each region (the faces of the <code>grid</code>). There is always <code>2*D</code> regions.</p><pre><code class="language-julia-repl hljs">julia&gt; collect(Armon.RemoteBlockRegions((5, 3)))
4-element Vector{Tuple{Armon.Side.T, CartesianIndices{2, Tuple{UnitRange{Int64}, UnitRange{Int64}}}}}:
 (Armon.Side.Left, CartesianIndices((0:0, 1:3)))
 (Armon.Side.Right, CartesianIndices((6:6, 1:3)))
 (Armon.Side.Bottom, CartesianIndices((1:5, 0:0)))
 (Armon.Side.Top, CartesianIndices((1:5, 4:4)))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_grid.jl#L257-L272">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.@iter_blocks" href="#Armon.@iter_blocks"><code>Armon.@iter_blocks</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@iter_blocks for blk in all_blocks(grid)
    # body...
end</code></pre><p>Applies the body of the for-loop in to all blocks of the <code>grid</code>.</p><p>The body is duplicated for inner and edge blocks, ensuring type-inference.</p><p>If <code>params.use_multithreading</code>, then an attempt will be made at equilibrating workload among threads.</p><pre><code class="language-julia hljs"># Iterate on all blocks of the grid
@iter_blocks for blk in all_blocks(grid)
    some_function(blk)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocking.jl#L293-L310">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.block_pos_containing_cell" href="#Armon.block_pos_containing_cell"><code>Armon.block_pos_containing_cell</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">block_pos_containing_cell(grid::BlockGrid, pos::Union{CartesianIndex, NTuple})</code></pre><p>Returns two <code>CartesianIndex</code>es: the first is the position of the block containing the cell at <code>pos</code>, the second is the position of the cell in that block.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_grid.jl#L678-L683">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.block_origin" href="#Armon.block_origin"><code>Armon.block_origin</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">block_origin(grid::BlockGrid, pos, include_ghosts=false)</code></pre><p>A <code>Tuple</code> of the position of the cell at the bottom left corner of the <a href="#Armon.LocalTaskBlock"><code>LocalTaskBlock</code></a> at <code>pos</code> in the <code>grid</code>.</p><p>If <code>include_ghosts == true</code>, then the cell position includes all ghost cells of the <code>grid</code>.</p><p><code>pos</code> can be any of <code>Integer</code>, <code>NTuple{N, Integer}</code> or <code>CartesianIndex</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_grid.jl#L703-L712">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.block_at" href="#Armon.block_at"><code>Armon.block_at</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">block_at(grid::BlockGrid, idx::CartesianIndex)</code></pre><p>The <a href="#Armon.TaskBlock"><code>TaskBlock</code></a> at position <code>idx</code> in the <code>grid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_grid.jl#L458-L462">source</a></section></article><h2 id="Block-size-and-iteration"><a class="docs-heading-anchor" href="#Block-size-and-iteration">Block size and iteration</a><a id="Block-size-and-iteration-1"></a><a class="docs-heading-anchor-permalink" href="#Block-size-and-iteration" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.BlockSize" href="#Armon.BlockSize"><code>Armon.BlockSize</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">BlockSize</code></pre><p>Dimensions of a <a href="#Armon.LocalTaskBlock"><code>LocalTaskBlock</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocking.jl#L2-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.StaticBSize" href="#Armon.StaticBSize"><code>Armon.StaticBSize</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">StaticBSize{S, Ghost} &lt;: BlockSize</code></pre><p>A <a href="#Armon.BlockSize"><code>BlockSize</code></a> of size <code>S</code> and <code>Ghost</code> cells. <code>S</code> is embedded in the type, this reduces the amount of memory in the parameters of every kernel, as well as allowing the compiler to make some minor optizations in indexing expressions.</p><p>Ghost cells are included in <code>S</code>: there are <code>S .- 2*Ghost</code> real cells.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocking.jl#L10-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.DynamicBSize" href="#Armon.DynamicBSize"><code>Armon.DynamicBSize</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DynamicBSize{Ghost} &lt;: BlockSize</code></pre><p>Similar to <a href="#Armon.StaticBSize"><code>StaticBSize</code></a>, but for blocks with a less-than-ideal size: block size is therefore not stored in the type. This results in less compilation when testing for different domain sizes with a constant <a href="#Armon.StaticBSize"><code>StaticBSize</code></a>.</p><p>The number of <code>Ghost</code> cells is still embedded in the type, as it can simplify some indexing expressions and for coherency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocking.jl#L37-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.block_size" href="#Armon.block_size"><code>Armon.block_size</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>NTuple</code> of the dimensions of a <a href="#Armon.BlockSize"><code>BlockSize</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocking.jl#L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.real_block_size" href="#Armon.real_block_size"><code>Armon.real_block_size</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>NTuple</code> of the dimensions of a <a href="#Armon.BlockSize"><code>BlockSize</code></a>, excluding ghost cells</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocking.jl#L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.ghosts" href="#Armon.ghosts"><code>Armon.ghosts</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Number of ghost cells of a <a href="#Armon.BlockSize"><code>BlockSize</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocking.jl#L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.border_domain" href="#Armon.border_domain"><code>Armon.border_domain</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">border_domain(bsize::BlockSize, side::Side.T; single_strip=true)</code></pre><p><a href="#Armon.DomainRange"><code>DomainRange</code></a> of the real cells along <code>side</code>.</p><p>If <code>single_strip == true</code>,  it includes only one &quot;strip&quot; of cells, that is <code>length(border_domain(bsize, side)) == size_along(bsize, side)</code>. Otherwise, there are <code>ghosts(bsize)</code> strips of cells: all real cells which would be exchanged with another block along <code>side</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocking.jl#L138-L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.ghost_domain" href="#Armon.ghost_domain"><code>Armon.ghost_domain</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ghost_domain(bsize::BlockSize, side::Side.T; single_strip=true)</code></pre><p><a href="#Armon.DomainRange"><code>DomainRange</code></a> of all ghosts cells of <code>side</code>, excluding the corners of the block.</p><p>If <code>single_strip == true</code>, then the domain is only 1 cell thick, positionned at the furthest ghost cell from the real cells. Otherwise, there are <code>ghosts(bsize)</code> strips of cells: all ghost cells which would be exchanged with another block along <code>side</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocking.jl#L175-L184">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.block_domain_range" href="#Armon.block_domain_range"><code>Armon.block_domain_range</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">block_domain_range(bsize::BlockSize, corners)
block_domain_range(bsize::BlockSize, bottom_left::Tuple, top_right::Tuple)</code></pre><p>A <a href="#Armon.DomainRange"><code>DomainRange</code></a> built from offsets from the corners of <code>bsize</code>.</p><p><code>block_domain_range(bsize, (0, 0), (0, 0))</code> is the domain of all real cells in the block. <code>block_domain_range(bsize, (-g, -g), (g, g))</code> would be the domain of all cells (real cells + <code>g</code> ghost cells) in the block.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocking.jl#L61-L70">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.position" href="#Armon.position"><code>Armon.position</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">position(bsize::BlockSize, i)</code></pre><p>N-dim position of the <code>i</code>-th cell in the block.</p><p>If <code>1 ≤ position(bsize, i)[d] ≤ block_size(bsize)[d]</code> then the cell is not a ghost cell along the <code>d</code> dimension. See <a href="#Armon.is_ghost"><code>is_ghost</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocking.jl#L88-L95">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.lin_position" href="#Armon.lin_position"><code>Armon.lin_position</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">lin_position(bsize::BlockSize, I)</code></pre><p>From the <code>NTuple</code> (e.g. returned from <a href="#Armon.position"><code>position</code></a>), return the linear index in the block. <code>lin_position(bsize, position(bsize, i)) == i</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocking.jl#L121-L126">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.in_grid" href="#Armon.in_grid"><code>Armon.in_grid</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">in_grid(idx, size)
in_grid(start, idx, size)</code></pre><p><code>true</code> if each axis of <code>idx</code> is between <code>start</code> and <code>size</code>. <code>start</code> defaults to <code>1</code>.</p><p>Argument types can any mix of <code>Integer</code>, <code>Tuple</code> or <code>CartesianIndex</code>.</p><pre><code class="language-julia hljs">julia&gt; in_grid(1, (1, 2), 2)  # same as `in_grid((1, 1), (1, 2), (2, 2))`
true

julia&gt; in_grid((3, 1), (3, 2))
true

julia&gt; in_grid((1, 3), (3, 2))
false</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocking.jl#L219-L237">source</a></section><section><div><pre><code class="language-julia hljs">in_grid(idx, grid, axis::Axis.T)
in_grid(start, idx, grid, axis::Axis.T)</code></pre><p>Same as <code>in_grid(start, idx, grid)</code>, but only checks along <code>axis</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocking.jl#L241-L246">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.is_ghost" href="#Armon.is_ghost"><code>Armon.is_ghost</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_ghost(bsize::BlockSize, i, o=0)</code></pre><p><code>true</code> if the <code>i</code>-th cell of the block is a ghost cell, <code>false</code> otherwise.</p><p><code>o</code> would be a &quot;ring&quot; index: <code>o == 1</code> excludes the first ring of ghost cells, etc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocking.jl#L209-L215">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.BlockRowIterator" href="#Armon.BlockRowIterator"><code>Armon.BlockRowIterator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">BlockRowIterator(grid::BlockGrid; kwargs...)
BlockRowIterator(grid::BlockGrid, blk::LocalTaskBlock; kwargs...)
BlockRowIterator(grid::BlockGrid, blk₁_pos, blk₂_pos; kwargs...)
BlockRowIterator(grid::BlockGrid, sub_domain::NTuple{2, CartesianIndex}; kwargs...)
BlockRowIterator(grid::BlockGrid, row_iter::CartesianIndices; global_ghosts=false, all_ghosts=false)</code></pre><p>Iterate the rows of all blocks of the <code>grid</code>, row by row (and not block by block). This allows to iterate the cells of the <code>grid</code> as if it was a single block.</p><p>Elements are tuples of <code>(block, global_row_idx, row_range)</code>. <code>row_range</code> is the range of cells in <code>block</code> for the current row.</p><p>Giving <code>blk</code> will return an iterator on the rows of the block.</p><p>Giving <code>blk₁_pos</code> and <code>blk₂_pos</code> will return an iterator over all rows between those blocks.</p><p>Giving <code>sub_domain</code> will return an iterator including only the cells contained in <code>sub_domain</code>. <code>sub_domain</code> is a cuboid defined by the position of the cells in the whole domain of <code>grid</code>, using its lower and upper corners.</p><p><code>row_iter</code> is a iterator over global row indices.</p><p>If <code>global_ghosts == true</code>, then the ghost cells of at the border of the global domain are also returned. If <code>all_ghosts == true</code>, then the ghost cells of at the border of all blocks are also returned.</p><pre><code class="language-julia-repl hljs">julia&gt; params = ArmonParameters(; N=(24, 8), nghost=4, block_size=(20, 12), use_MPI=false);

julia&gt; grid = BlockGrid(params);

julia&gt; for (blk, row_idx, row_range) in Armon.BlockRowIterator(grid)
           println(Tuple(blk.pos), &quot; - &quot;, row_idx, &quot; - &quot;, row_range)
       end
(1, 1) - (1, 1) - 85:96
(2, 1) - (2, 1) - 85:96
(1, 1) - (1, 2) - 105:116
(2, 1) - (2, 2) - 105:116
(1, 1) - (1, 3) - 125:136
(2, 1) - (2, 3) - 125:136
(1, 1) - (1, 4) - 145:156
(2, 1) - (2, 4) - 145:156
(1, 2) - (1, 5) - 85:96
(2, 2) - (2, 5) - 85:96
(1, 2) - (1, 6) - 105:116
(2, 2) - (2, 6) - 105:116
(1, 2) - (1, 7) - 125:136
(2, 2) - (2, 7) - 125:136
(1, 2) - (1, 8) - 145:156
(2, 2) - (2, 8) - 145:156</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocking.jl#L344-L395">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.DomainRange" href="#Armon.DomainRange"><code>Armon.DomainRange</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DomainRange</code></pre><p>Two dimensional range to index a 2D array stored with contiguous rows. Not equivalent to <code>CartesianIndices</code> as it handles <code>StepRange</code>s properly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/domain_ranges.jl#L33-L38">source</a></section></article><h2 id="Block-Tree"><a class="docs-heading-anchor" href="#Block-Tree">Block Tree</a><a id="Block-Tree-1"></a><a class="docs-heading-anchor-permalink" href="#Block-Tree" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.BlockTree" href="#Armon.BlockTree"><code>Armon.BlockTree</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">BlockTree(grid::BlockGrid, branches_per_level::Vector{Int})</code></pre><p>A tree-like structure containing <code>sub_blocks</code> (other <code>BlockTree</code>s) as well as blocks (<a href="#Armon.LocalTaskBlock"><code>LocalTaskBlock</code></a>s). It contains <code>branches_per_level[1]</code> branches, themselves containing <code>branches_per_level[2]</code> branches each, etc... The last level contains <code>branches_per_level[end]</code> <a href="#Armon.LocalTaskBlock"><code>LocalTaskBlock</code></a>s, and no branches.</p><p><code>depth(bt) == 0</code> is the root node.</p><p>Technically, there is no topology constraint to which block may be part of the tree: for now blocks are naively assigned during the construction of the tree.</p><p><code>branches_per_level</code> might specify a larger amount of blocks than there is in <code>grid</code>. In this case the extra blocks are not added to the tree, and empty branches are pruned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_tree.jl#L2-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.all_blocks-Tuple{Armon.BlockTree}" href="#Armon.all_blocks-Tuple{Armon.BlockTree}"><code>Armon.all_blocks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">all_blocks(bt::BlockTree)</code></pre><p>Iterator over every <a href="#Armon.LocalTaskBlock"><code>LocalTaskBlock</code></a>s contained in <code>bt</code> (recursive).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_tree.jl#L92-L96">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.is_leaf" href="#Armon.is_leaf"><code>Armon.is_leaf</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_leaf(bt::BlockTree)</code></pre><p><code>true</code> if <code>bt</code> has no children, and contains only <a href="#Armon.LocalTaskBlock"><code>LocalTaskBlock</code></a>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_tree.jl#L100-L104">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.depth" href="#Armon.depth"><code>Armon.depth</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">depth(bt::BlockTree)</code></pre><p>Depth of <code>bt</code> in the parent tree.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_tree.jl#L108-L112">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.tree_block_count" href="#Armon.tree_block_count"><code>Armon.tree_block_count</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">tree_block_count(bt::BlockTree)</code></pre><p>Number of <a href="#Armon.LocalTaskBlock"><code>LocalTaskBlock</code></a>s contained in <code>bt</code> (recursive).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_tree.jl#L116-L120">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.visit_all_tree_block" href="#Armon.visit_all_tree_block"><code>Armon.visit_all_tree_block</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">visit_all_tree_block(f, bt::BlockTree; topdown=true, min_depth=0, max_depth=typemax(Int))</code></pre><p>Recursively calls <code>f(pos::Tuple, mb_child::BlockTree)</code> for <code>bt</code> and its children.</p><p>If <code>topdown == true</code>, then <code>f</code> is called on parents before their children.</p><p><code>f</code> is called only for <a href="#Armon.BlockTree"><code>BlockTree</code></a>s with a depth <code>≥ min_depth</code> and <code>≤ max_depth</code>, defaulting to the whole <code>BlockTree</code>. Children with a depth <code>&gt; max_depth</code> will not be recursed into.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_tree.jl#L137-L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.iter_tree_block" href="#Armon.iter_tree_block"><code>Armon.iter_tree_block</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">iter_tree_block(f, bt::BlockTree)</code></pre><p>Calls <code>f(blk::LocalTaskBlock)</code> for all <a href="#Armon.LocalTaskBlock"><code>LocalTaskBlock</code></a>s in <code>bt</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_tree.jl#L158-L162">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.apply_until_true" href="#Armon.apply_until_true"><code>Armon.apply_until_true</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">apply_until_true(f, bt::BlockTree, sub_blocks_range=eachindex(bt.sub_blocks), repeats=2)</code></pre><p>Applies recursively <code>f</code> on all <a href="#Armon.LocalTaskBlock"><code>LocalTaskBlock</code></a>s of <code>bt</code>. As long as <code>f</code> returns <code>false</code>, it will be repeatedly called up to <code>repeats^max_depth</code> times for the block (<code>max_depth</code> being the depth of the <code>LocalTaskBlock</code> relative to <code>bt</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_tree.jl#L179-L185">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.block_levels_for_machine" href="#Armon.block_levels_for_machine"><code>Armon.block_levels_for_machine</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">block_levels_for_machine(params::ArmonParameters; include_ghosts=false, kwargs...)
block_levels_for_machine(
    data_type::Type, block_count::Int, block_size::Tuple, vars_per_block::Int;
    levels=[:L3_cache, :L2_cache, :L1_cache]
)</code></pre><p>Attempts to compute efficient sizes for branches of a <a href="#Armon.BlockTree"><code>BlockTree</code></a> for the current machine using its topology and the cache sizes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_tree.jl#L248-L257">source</a></section></article><h2 id="Block-states"><a class="docs-heading-anchor" href="#Block-states">Block states</a><a id="Block-states-1"></a><a class="docs-heading-anchor-permalink" href="#Block-states" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.SolverState" href="#Armon.SolverState"><code>Armon.SolverState</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SolverState</code></pre><p>Object containing all non-constant parameters needed to run the solver, as well as type-parameters needed to avoid runtime dispatch.</p><p>This object is local to a block (or set of blocks): multiple blocks could be at different steps of the solver at once.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/solver_state.jl#L190-L198">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.first_state" href="#Armon.first_state"><code>Armon.first_state</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">first_state(grid::BlockGrid)</code></pre><p>A <a href="#Armon.SolverState"><code>SolverState</code></a> which can be used as a global state when outside of a solver cycle. It belongs to the first device block.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/block_grid.jl#L517-L522">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.SolverStep" href="#Armon.SolverStep"><code>Armon.SolverStep</code></a> — <span class="docstring-category">Module</span></header><section><div><pre><code class="language-julia hljs">SolverStep</code></pre><p>Enumeration of each state a <a href="#Armon.LocalTaskBlock"><code>LocalTaskBlock</code></a> can be in. <a href="#Armon.block_state_machine"><code>block_state_machine</code></a> advances this state.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/solver_state.jl#L169-L174">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.block_state_machine" href="#Armon.block_state_machine"><code>Armon.block_state_machine</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">block_state_machine(params::ArmonParameters, blk::LocalTaskBlock)</code></pre><p>Advances the <a href="#Armon.SolverStep"><code>SolverStep</code></a> state of the <code>blk</code>, apply each step of the solver on the <code>blk</code>. This continues until the current cycle is done, or the block needs to wait for another block to do the ghost cells exchange (<a href="#Armon.block_ghost_exchange"><code>block_ghost_exchange</code></a>) or compute the its time step (<a href="#Armon.next_time_step"><code>next_time_step</code></a>).</p><p>Returns <code>true</code> if we reached the end of the current cycle for <code>blk</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/solver.jl#L43-L52">source</a></section></article><h2 id="Time-step-reduction"><a class="docs-heading-anchor" href="#Time-step-reduction">Time step reduction</a><a id="Time-step-reduction-1"></a><a class="docs-heading-anchor-permalink" href="#Time-step-reduction" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.next_time_step" href="#Armon.next_time_step"><code>Armon.next_time_step</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">next_time_step(params::ArmonParameters, state::SolverState, blk::LocalTaskBlock; already_contributed=false)
next_time_step(params::ArmonParameters, state::SolverState, grid::BlockGrid)</code></pre><p>Compute the time step of the next cycle. This is done at the start of the current cycle.</p><p>Since the current cycle does not rely on an up-to-date time step, the time step reduction is done fully asynchronously, including the global MPI reduction. The accuracy cost of this optimisation is minimal, as the CFL condition prevents the time step from being too large. Additionally, we prevent the time step from increasing of more than +5% of the previous one.</p><p>For first cycle, if no initial time step is given, the time step of the next cycle is reused for the initial cycle.</p><p>If <code>blk</code> is given, its contribution is only added to the <code>state.global_dt</code> (the <a href="#Armon.GlobalTimeStep"><code>GlobalTimeStep</code></a>). Passing the whole block <code>grid</code> will block until the new time step is computed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/reductions.jl#L113-L130">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.GlobalTimeStep" href="#Armon.GlobalTimeStep"><code>Armon.GlobalTimeStep</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">GlobalTimeStep</code></pre><p>Holds all information about the current time and time step for the current solver cycle. This struct is global and shared among all blocks.</p><p>When reaching <code>next_time_step</code>, blocks will contribute to the calculation of the next time step. The last block doing so will start the MPI reduction. The first block reaching the start of the next cycle will wait until this reduction is completed, updating the <code>GlobalTimeStep</code> when so.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/solver_state.jl#L16-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.TimeStepState.WaitingForMPI" href="#Armon.TimeStepState.WaitingForMPI"><code>Armon.TimeStepState.WaitingForMPI</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>One thread is waiting for the MPI reduction to complete</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/solver_state.jl#L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.TimeStepState.Done" href="#Armon.TimeStepState.Done"><code>Armon.TimeStepState.Done</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>MPI is done: <code>current_dt</code> is up-to-date</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/solver_state.jl#L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.TimeStepState.Ready" href="#Armon.TimeStepState.Ready"><code>Armon.TimeStepState.Ready</code></a> — <span class="docstring-category">Constant</span></header><section><div><p><code>current_dt</code> is up-to-date and blocks can contribute to <code>next_dt</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/solver_state.jl#L3">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.TimeStepState.DoingMPI" href="#Armon.TimeStepState.DoingMPI"><code>Armon.TimeStepState.DoingMPI</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>The MPI reduction has started</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/solver_state.jl#L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.TimeStepState.AllContributed" href="#Armon.TimeStepState.AllContributed"><code>Armon.TimeStepState.AllContributed</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>All blocks contributed to <code>next_dt</code>, one thread will start the MPI reduction</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/solver_state.jl#L5">source</a></section></article><h2 id="Block-exchanges"><a class="docs-heading-anchor" href="#Block-exchanges">Block exchanges</a><a id="Block-exchanges-1"></a><a class="docs-heading-anchor-permalink" href="#Block-exchanges" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.block_ghost_exchange" href="#Armon.block_ghost_exchange"><code>Armon.block_ghost_exchange</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">block_ghost_exchange(params::ArmonParameters, state::SolverState, blk::LocalTaskBlock)</code></pre><p>Handles communications between the <code>blk</code> neighbours, along the current <code>state.axis</code>. If <code>blk</code> is on one of the edges of the grid, a remote exchange is performed with the neighbouring <a href="#Armon.RemoteTaskBlock"><code>RemoteTaskBlock</code></a>, or the global boundary conditions are applied.</p><p>Returns <code>true</code> if exchanges were not completed, and the block is waiting on another to be ready for the exchange.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/halo_exchange.jl#L327-L336">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.start_exchange" href="#Armon.start_exchange"><code>Armon.start_exchange</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">start_exchange(
    params::ArmonParameters,
    blk::LocalTaskBlock{D, H}, other_blk::RemoteTaskBlock{B}, side::Side.T
) where {D, H, B}</code></pre><p>Start the exchange between one local block and a remote block from another sub-domain. Returns <code>true</code> if the exchange is <a href="#Armon.BlockExchangeState.Done"><code>BlockExchangeState.Done</code></a>, <code>false</code> if <a href="#Armon.BlockExchangeState.InProgress"><code>BlockExchangeState.InProgress</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/halo_exchange.jl#L219-L228">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.finish_exchange" href="#Armon.finish_exchange"><code>Armon.finish_exchange</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">finish_exchange(
    params::ArmonParameters,
    blk::LocalTaskBlock{D, H}, other_blk::RemoteTaskBlock{B}, side::Side.T
) where {D, H, B}</code></pre><p>Finish the exchange between one local block and a remote block from another sub-domain, if MPI communications are done. Returns <code>true</code> if the exchange is <a href="#Armon.BlockExchangeState.Done"><code>BlockExchangeState.Done</code></a>, <code>false</code> if <a href="#Armon.BlockExchangeState.InProgress"><code>BlockExchangeState.InProgress</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/halo_exchange.jl#L253-L263">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.BlockInterface" href="#Armon.BlockInterface"><code>Armon.BlockInterface</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">BlockInterface</code></pre><p>Represents the interface between two neighbouring <a href="#Armon.TaskBlock"><code>TaskBlock</code></a>s. It synchronizes the state of the blocks to make sure the halo exchange happens when both blocks are ready, and that the operation is done by only one of the blocks.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/blocking.jl#L260-L266">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.mark_ready_for_exchange!" href="#Armon.mark_ready_for_exchange!"><code>Armon.mark_ready_for_exchange!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">mark_ready_for_exchange!(blk, side)</code></pre><p>Mark <code>blk</code> in the interface along its <code>side</code> as ready for an exchange.</p><p>Return <code>true</code> if the <code>blk</code> should do the exchange, and the new [<code>BlockExchangeState</code>] of the interface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/interface.jl#L87-L93">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.exchange_done!" href="#Armon.exchange_done!"><code>Armon.exchange_done!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">exchange_done!(blk, side)</code></pre><p>Mark the exchange of the interface of the <code>blk</code> along <code>side</code> as done. The other block need to acknowledge this before the exchange state can be reset.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/interface.jl#L136-L141">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.side_is_done!" href="#Armon.side_is_done!"><code>Armon.side_is_done!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">side_is_done!(blk::LocalTaskBlock, side::Side.T, done::Bool=true)</code></pre><p>Set the interface of <code>blk</code> along <code>side</code> as <code>done</code>. This is a non-atomic operation, meant only to avoid repeating the exchange logic multiple times.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/interface.jl#L162-L167">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.is_side_done" href="#Armon.is_side_done"><code>Armon.is_side_done</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_side_done(blk::LocalTaskBlock, side::Side.T)</code></pre><p>The value set by <a href="#Armon.side_is_done!"><code>side_is_done!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/interface.jl#L150-L154">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.BlockExchangeState" href="#Armon.BlockExchangeState"><code>Armon.BlockExchangeState</code></a> — <span class="docstring-category">Module</span></header><section><div><pre><code class="language-julia hljs">BlockExchangeState</code></pre><p>State of an interface between two blocks, controlling if a cell exchange can happen or did happen.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/interface.jl#L2-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.BlockExchangeState.NotReady" href="#Armon.BlockExchangeState.NotReady"><code>Armon.BlockExchangeState.NotReady</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>One of the blocks is not ready yet</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/interface.jl#L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.BlockExchangeState.InProgress" href="#Armon.BlockExchangeState.InProgress"><code>Armon.BlockExchangeState.InProgress</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>One of the blocks is performing the exchange</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/interface.jl#L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.BlockExchangeState.Done" href="#Armon.BlockExchangeState.Done"><code>Armon.BlockExchangeState.Done</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>The exchange is done</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/9b88c15d763aff20281976c46d522d32cfe1fe81/src/blocking/interface.jl#L12">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../solver/">« Solver</a><a class="docs-footer-nextpage" href="../kernels/">Kernels »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.0 on <span class="colophon-date" title="Monday 29 April 2024 14:31">Monday 29 April 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
