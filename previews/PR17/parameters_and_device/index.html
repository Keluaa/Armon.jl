<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Parameters &amp; Device · Armon.jl</title><meta name="title" content="Parameters &amp; Device · Armon.jl"/><meta property="og:title" content="Parameters &amp; Device · Armon.jl"/><meta property="twitter:title" content="Parameters &amp; Device · Armon.jl"/><meta name="description" content="Documentation for Armon.jl."/><meta property="og:description" content="Documentation for Armon.jl."/><meta property="twitter:description" content="Documentation for Armon.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Armon.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Parameters &amp; Device</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Device-and-backends"><span>Device and backends</span></a></li></ul></li><li><a class="tocitem" href="../grid/">Grid</a></li><li><a class="tocitem" href="../blocks/">Blocks</a></li><li><a class="tocitem" href="../block_states/">Block state</a></li><li><a class="tocitem" href="../kernels/">Kernels</a></li><li><a class="tocitem" href="../utils/">Utils</a></li><li><a class="tocitem" href="../structure/">UML Structure</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Parameters &amp; Device</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Parameters &amp; Device</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Keluaa/Armon.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Keluaa/Armon.jl/blob/main/docs/src/parameters_and_device.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Parameters-and-entry-point"><a class="docs-heading-anchor" href="#Parameters-and-entry-point">Parameters and entry point</a><a id="Parameters-and-entry-point-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters-and-entry-point" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.ArmonParameters" href="#Armon.ArmonParameters"><code>Armon.ArmonParameters</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ArmonParameters(; options...)</code></pre><p>The parameters and current state of the solver.</p><p>The state is reset at each call to <a href="#Armon.armon"><code>armon</code></a>.</p><p>There are many options. Each backend can add their own.</p><p><strong>Options</strong></p><p><strong>Backend and MPI</strong></p><pre><code class="nohighlight hljs">device = :CUDA</code></pre><p>Device to use. Supported values:</p><ul><li><code>:CPU_HP</code>: <code>Polyester.jl</code> CPU multithreading  (default if <code>use_gpu=false</code>)</li><li><code>:CUDA</code>: <code>CUDA.jl</code> GPU (default if <code>use_gpu=true</code>)</li><li><code>:ROCM</code>: <code>AMDGPU.jl</code> GPU</li><li><code>:CPU</code>: <code>KernelAbstractions.jl</code> CPU multithreading (using the standard <code>Threads.jl</code>)</li></ul><pre><code class="nohighlight hljs">use_MPI = true, P = (1, 1), reorder_grid = true, global_comm = nothing</code></pre><p>MPI config. The MPI domain will be a process grid of size <code>P</code>. <code>global_comm</code> is the global communicator to use, defaults to <code>MPI.COMM_WORLD</code>. <code>reorder_grid</code> is passed to <code>MPI.Cart_create</code>.</p><pre><code class="nohighlight hljs">gpu_aware = true</code></pre><p>Store MPI buffers on the device. This requires to use a GPU-aware MPI implementation. Does nothing when using the CPU only.</p><p><strong>Kernels</strong></p><pre><code class="nohighlight hljs">use_threading = true, use_simd = true</code></pre><p>Switches for <a href="#Armon.CPU_HP"><code>CPU_HP</code></a> kernels. <code>use_threading</code> enables <a href="../kernels/#Armon.@threaded"><code>@threaded</code></a> for outer loops. <code>use_simd</code> enables <a href="../kernels/#Armon.@simd_loop"><code>@simd_loop</code></a> for inner loops.</p><pre><code class="nohighlight hljs">use_gpu = false</code></pre><p>Enables the use of <code>KernelAbstractions.jl</code> kernels.</p><pre><code class="nohighlight hljs">use_kokkos = false</code></pre><p>Use kernels for <code>Kokkos.jl</code>.</p><pre><code class="nohighlight hljs">use_cache_blocking = true</code></pre><p>Separate the domain into semi-independant blocks, improving the cache-locality of memory accesses and therefore memory throughput.</p><pre><code class="nohighlight hljs">async_cycle = false</code></pre><p>Apply all steps of the solver to all blocks asynchronously, fully taking advantage of cache blocking.</p><pre><code class="nohighlight hljs">block_size = 1024</code></pre><p>Size of blocks for cache blocking. Can be a tuple. If <code>use_cache_blocking == false</code>, this option only controls the size of GPU blocks.</p><pre><code class="nohighlight hljs">use_two_step_reduction = false</code></pre><p>Reduction kernels (<code>dtCFL_kernel</code> and <code>conservation_vars</code>) use some optimizations to perform the reduction in a single step. It might cause issues on some GPU backends: a more &quot;gentle&quot; approach could avoid those by doing it in two steps.</p><p><strong>Profiling</strong></p><pre><code class="nohighlight hljs">profiling = Symbol[]</code></pre><p>List of profiling callbacks to use:</p><ul><li><code>:TimerOutputs</code>: <code>TimerOutputs.jl</code> sections (added if <code>measure_time=true</code>)</li><li><code>:NVTX_sections</code>: <code>NVTX.jl</code> sections</li><li><code>:NVTX_kernels</code>: <code>NVTX.jl</code> sections for kernels</li><li><code>:CUDA_kernels</code>: equivalent to <code>CUDA.@profile</code> in front of all kernels</li></ul><pre><code class="nohighlight hljs">measure_time = true</code></pre><p><code>measure_time=false</code> can remove any overhead caused by profiling.</p><pre><code class="nohighlight hljs">time_async = true</code></pre><p><code>time_async=false</code> will add a barrier at the end of every section. Useful for GPU kernels.</p><p><strong>Scheme and CFD solver</strong></p><pre><code class="nohighlight hljs">scheme = :GAD, riemann_limiter = :minmod</code></pre><p><code>scheme</code> is the Riemann solver scheme to use:</p><ul><li><code>:Godunov</code> (1st order)</li><li><code>:GAD</code> (2nd order, with limiter).</li></ul><p><code>riemann_limiter</code> is the limiter to use for the Riemann solver: <code>:no_limiter</code>, <code>:minmod</code> or <code>:superbee</code>.</p><pre><code class="nohighlight hljs">projection = :euler_2nd</code></pre><p>Scheme for the Eulerian remap step:</p><ul><li><code>:euler</code> (1st order)</li><li><code>:euler_2nd</code> (2nd order, +minmod limiter)</li></ul><pre><code class="nohighlight hljs">axis_splitting = :Sequential</code></pre><p>Axis splitting to use:</p><ul><li><code>:Sequential</code>: X then Y</li><li><code>:SequentialSym</code> (or <code>:Godunov</code>): X and Y then Y and X, alternating</li><li><code>:Strang</code>: ½X, Y, ½X then ½Y, X, ½Y, alternating (½ is for halved time step)</li><li><code>:X_only</code></li><li><code>:Y_only</code></li></ul><pre><code class="nohighlight hljs">N = (10, 10)</code></pre><p>Number of cells of the global domain in each axes.</p><pre><code class="nohighlight hljs">nghost = 4</code></pre><p>Number of ghost cells. Must be greater or equal to the minimum number of ghost cells (min 1, <code>scheme=:GAD</code> adds one, <code>projection=:euler_2nd</code> adds one, <code>scheme=:GAD</code> + <code>projection=:euler_2nd</code> adds another one)</p><pre><code class="nohighlight hljs">Dt = 0., cst_dt = false, dt_on_even_cycles = false</code></pre><p><code>Dt</code> is the initial time step, it is computed after initialization by default. If <code>cst_dt=true</code> then the time step is always <code>Dt</code> and no reduction over the entire domain occurs.  If <code>dt_on_even_cycles=true</code> then then time step is only updated at even cycles (the first cycle is even).</p><pre><code class="nohighlight hljs">data_type = Float64</code></pre><p>Data type for all variables. Should be an <code>AbstractFloat</code>.</p><p><strong>Test case and domain</strong></p><pre><code class="nohighlight hljs">test = :Sod, domain_size = nothing, origin = nothing</code></pre><p><code>test</code> is the test case name to use:</p><ul><li><code>:Sod</code>: Sod shock tube test</li><li><code>:Sod_y</code>: Sod shock tube test along the Y axis</li><li><code>:Sod_circ</code>: Circular Sod shock tube test (centered in the domain)</li><li><code>:Bizarrium</code>: Bizarrium test, similar to the Sod shock tube but with a special equation of state</li><li><code>:Sedov</code>: Sedov blast-wave test (centered in the domain, reaches the border at <code>t=1</code> by default)</li><li><code>:DebugIndexes</code>: Set all variables to their index in the global domain. Debug only.</li></ul><pre><code class="nohighlight hljs">cfl = 0., maxtime = 0., maxcycle = 500_000</code></pre><p><code>cfl</code> defaults to the test&#39;s default value, same for <code>maxtime</code>. The solver stops when <code>t</code> reaches <code>maxtime</code> or <code>maxcycle</code> iterations were done (<code>maxcycle=0</code> stops after initialization).</p><p><strong>Output</strong></p><pre><code class="nohighlight hljs">silent = 0</code></pre><p><code>silent=0</code> for maximum verbosity. <code>silent=3</code> doesn&#39;t print info at each cycle. <code>silent=5</code> doesn&#39;t print anything.</p><pre><code class="nohighlight hljs">output_dir = &quot;.&quot;, output_file = &quot;output&quot;</code></pre><p><code>joinpath(output_dir, output_file)</code> will be path to the output file.</p><pre><code class="nohighlight hljs">write_output = false, write_ghosts = false</code></pre><p><code>write_output=true</code> will write all <code>saved_vars()</code> to the output file. If <code>write_ghosts=true</code>, ghost cells will also be included.</p><pre><code class="nohighlight hljs">write_slices = false</code></pre><p>Will write all <code>saved_vars()</code> to 3 output files, one for the middle X row, another for the middle Y column, and another for the diagonal. If <code>write_ghosts=true</code>, ghost cells will also be included.</p><pre><code class="nohighlight hljs">output_precision = nothing</code></pre><p>Numbers are saved with <code>output_precision</code> digits of precision. Defaults to enough numbers for an exact decimal representation.</p><pre><code class="nohighlight hljs">animation_step = 0</code></pre><p>If <code>animation_step ≥ 1</code>, then every <code>animation_step</code> cycles, variables will be saved as with <code>write_output=true</code>.</p><pre><code class="nohighlight hljs">compare = false, is_ref = false, comparison_tolerance = 1e-10</code></pre><p>If <code>compare=true</code>, then at every sub step of each iteration of the solver all variables will:</p><ul><li>(<code>is_ref=false</code>) be compared with a reference file found in <code>output_dir</code></li><li>(<code>is_ref=true</code>) be saved to a reference file in <code>output_dir</code></li></ul><p>When comparing, a relative <code>comparison_tolerance</code> (the <code>rtol</code> kwarg of <code>isapprox</code>) is accepted between values.</p><pre><code class="nohighlight hljs">check_result = false</code></pre><p>Check if conservation of mass and energy is verified between initialization and the last iteration. An error is thrown otherwise. Accepts a relative <code>comparison_tolerance</code>.</p><pre><code class="nohighlight hljs">return_data = false</code></pre><p>If <code>return_data=true</code>, then in the <a href="#Armon.SolverStats"><code>SolverStats</code></a> returned by <a href="#Armon.armon"><code>armon</code></a>, the <code>data</code> field will contain the <a href="../grid/#Armon.BlockGrid"><code>BlockGrid</code></a> used by the solver.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/3dd0ef1648158b71c84c027f3224a173055d06b2/src/parameters.jl#L6-L236">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.armon" href="#Armon.armon"><code>Armon.armon</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">armon(::ArmonParameters)</code></pre><p>Main entry point of the solver. Returns a <a href="#Armon.SolverStats"><code>SolverStats</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/3dd0ef1648158b71c84c027f3224a173055d06b2/src/solver.jl#L346-L350">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.SolverStats" href="#Armon.SolverStats"><code>Armon.SolverStats</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SolverStats</code></pre><p>Solver output.</p><p><code>data</code> is nothing if <code>parameters.return_data</code> is <code>false</code>.</p><p><code>timer</code> is nothing if <code>parameters.measure_time</code> is <code>false</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/3dd0ef1648158b71c84c027f3224a173055d06b2/src/solver.jl#L2-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.StepsRanges" href="#Armon.StepsRanges"><code>Armon.StepsRanges</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">StepsRanges</code></pre><p>Holds indexing information for all steps of the solver.</p><p>Domains are stored as block corner offsets: blocks can have different sizes, but always the same amount of ghost cells, therefore the iteration domain is determined from the dimensions of the block. The first field is the offset to the first cell, the second is the offset to the last cell.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/3dd0ef1648158b71c84c027f3224a173055d06b2/src/domain_ranges.jl#L87-L95">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.data_type" href="#Armon.data_type"><code>Armon.data_type</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">data_type(::ArmonParameters{T})</code></pre><p>Get <code>T</code>, the type used for numbers by the solver</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/3dd0ef1648158b71c84c027f3224a173055d06b2/src/parameters.jl#L847-L851">source</a></section></article><h1 id="Device-and-backends"><a class="docs-heading-anchor" href="#Device-and-backends">Device and backends</a><a id="Device-and-backends-1"></a><a class="docs-heading-anchor-permalink" href="#Device-and-backends" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.CPU_HP" href="#Armon.CPU_HP"><code>Armon.CPU_HP</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CPU_HP</code></pre><p>Device tag for the high-performance CPU backend using multithreading (with Polyester.jl) and vectorisation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/3dd0ef1648158b71c84c027f3224a173055d06b2/src/utils.jl#L74-L79">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.create_device" href="#Armon.create_device"><code>Armon.create_device</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_device(::Val{:device_name})</code></pre><p>Create a device object from its name.</p><p>Default devices:</p><ul><li><code>:CPU</code>: the CPU backend of <code>KernelAbstractions.jl</code></li><li><code>:CPU_HP</code>: <code>Polyester.jl</code> multithreading</li></ul><p>Extensions:</p><ul><li><code>:Kokkos</code>: the default <code>Kokkos.jl</code> device</li><li><code>:CUDA</code>: the <code>CUDA.jl</code> backend of <code>KernelAbstractions.jl</code></li><li><code>:ROCM</code>: the <code>AMDGPU.jl</code> backend of <code>KernelAbstractions.jl</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/3dd0ef1648158b71c84c027f3224a173055d06b2/src/parameters.jl#L666-L679">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.init_backend" href="#Armon.init_backend"><code>Armon.init_backend</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">init_backend(params::ArmonParameters, ::Dev; options...)</code></pre><p>Initialize the backend corresponding to the <code>Dev</code> device returned by <code>create_device</code> using <code>options</code>. Set the <code>params.backend_options</code> field.</p><p>It must return <code>options</code>, with the backend-specific options removed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/3dd0ef1648158b71c84c027f3224a173055d06b2/src/parameters.jl#L687-L694">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.device_memory_info" href="#Armon.device_memory_info"><code>Armon.device_memory_info</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">device_memory_info(device)</code></pre><p>The total and free memory on the device, in bytes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/3dd0ef1648158b71c84c027f3224a173055d06b2/src/parameters.jl#L834-L838">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.memory_info" href="#Armon.memory_info"><code>Armon.memory_info</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">memory_info(params)</code></pre><p>The total and free memory the current process can store on the <code>params.device</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/3dd0ef1648158b71c84c027f3224a173055d06b2/src/parameters.jl#L822-L826">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Armon.memory_required" href="#Armon.memory_required"><code>Armon.memory_required</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">memory_required(params::ArmonParameters)</code></pre><p><code>(device_memory, host_memory)</code> required for <code>params</code>.</p><p>MPI buffers size are included in the appropriate field depending on <code>params.gpu_aware</code>. <code>params.use_MPI</code> and <code>params.neighbours</code> is taken into account.</p><p>If <code>device_is_host</code>, then, <code>device_memory</code> only includes memory required by data arrays and MPI buffers.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/3dd0ef1648158b71c84c027f3224a173055d06b2/src/blocking/block_grid.jl#L526-L535">source</a></section><section><div><pre><code class="language-julia hljs">memory_required(N::NTuple{2, Int}, block_size::NTuple{2, Int}, ghost::Int, data_type)
memory_required(N::NTuple{2, Int}, block_size::NTuple{2, Int}, ghost::Int,
    device_array_type, host_array_type, buffer_array_type[, solver_state_type])</code></pre><p>Compute the number of bytes needed to allocate all blocks. If only <code>data_type</code> is given, then <code>device_array_type</code>, <code>host_array_type</code> and <code>buffer_array_type</code> default to <code>Vector{T}</code>. <code>solver_state_type</code> defaults to <code>SolverState{T, #= default schemes and test =#}</code>.</p><p>In order of returned values:</p><ol><li>Amount of bytes needed for all arrays on the device. This amount is also required on the host when the host and device are not the same.</li><li>Amount of bytes needed for all MPI buffers, if the sub-domain has neighbours on all of its sides. If <code>params.gpu_aware</code>, then this memory is allocated on the device.</li><li>Amount of bytes needed on the host memory for all block objects, excluding array data and buffers. This memory is always allocated on the host.</li></ol><pre><code class="nohighlight hljs">res = memory_required((1000, 1000), (64, 64), 4, CuArray{Float64}, Vector{Float64}, Vector{Float64})
device_memory = res[1]
host_memory = res[3] + (device_is_host ? device_memory : res[1])
if params.gpu_aware
    device_memory += res[2]
else
    host_memory += res[2]
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Keluaa/Armon.jl/blob/3dd0ef1648158b71c84c027f3224a173055d06b2/src/blocking/block_grid.jl#L570-L597">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../grid/">Grid »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Wednesday 19 June 2024 19:38">Wednesday 19 June 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
